<!doctype html><html lang=en>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<title>The ultimate SQLite extension set</title>
<meta name=description content="Regexes, math, file IO and over 100 other functions.">
<meta name=robots content="index, follow">
<link rel=stylesheet type=text/css href=/assets/css/style.c3b9a1ccd367ddec9529e4306c3aa895370d176280980543b2ff6f92f2013593.css>
<link rel=icon href=/assets/favicon/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=/assets/favicon/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=/assets/favicon/favicon-32x32.png>
<link rel=apple-touch-icon href=/assets/favicon/apple-touch-icon.png>
<link rel=mask-icon href=/assets/favicon/safari-pinned-tab.svg>
<meta name=theme-color content="#fff">
<meta name=msapplication-TileColor content="#fff">
<link rel=canonical href=https://antonz.org/sqlean/>
<meta name=author content="Anton Zhiyanov">
<meta property="og:type" content="article">
<meta property="og:title" content="The ultimate SQLite extension set">
<meta property="og:description" content="Regexes, math, file IO and over 100 other functions.">
<meta property="og:url" content="https://antonz.org/sqlean/">
<meta property="og:image" content="https://antonz.org/sqlean/cover.png">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:title content="The ultimate SQLite extension set">
<meta name=twitter:description content="Regexes, math, file IO and over 100 other functions.">
<meta name=twitter:url content="https://antonz.org/sqlean/">
<meta name=twitter:site content="@nalgeon">
<meta name=twitter:image content="https://antonz.org/sqlean/cover.png"></head>
<body>
<div class=header>
<div class=container>
<div class=row>
<div class="col-xs-6 col-sm-3">
<a class=img-link href=/>
<img src=/assets/stopwar.svg class=header-icon>
</a>Â 
<a href=/>
<strong>Anton Zhiyanov</strong>
</a>
</div>
<div class="col-xs-12 col-sm-6 col-md-4 hidden-mobile">
<a class=menu__link href=/all/>
<span>blog</span>
</a>
<a class=menu__link href=/#about>
<span>contacts</span>
</a>
<a class=menu__link href=https://antonz.ru>
<span>ru</span>
</a>
</div>
</div>
</div>
</div>
<div class=storey>
<div class=container>
<article class=post>
<div class=row>
<div class="col-xs-12 col-sm-10 article">
<header>
<h1>The ultimate SQLite extension set</h1>
</header>
<p>I really like SQLite. It&rsquo;s a miniature embedded database, perfect for both exploratory data analysis and as a storage for small apps (I&rsquo;ve <a href=/sqlite-is-not-a-toy-database/>blogged about that</a> previously).</p>
<p>It has a minor drawback though. There are few built-in functions compared to PostgreSQL or Oracle. Fortunately, the authors provided an extension mechanism, which allows doing almost anything. As a result, there are a lot of SQLite extensions out there, but they are incomplete, inconsistent and scattered across the internet.</p>
<p>I wanted more consistency. So I started the <strong>sqlean</strong> project, which brings the extensions together, neatly packaged into domain modules, documented, tested, and built for Linux, Windows and macOS. Something like a standard library in Python or Go, only for SQLite.</p>
<p>I plan to write in detail about each module in a separate article, but for now â€” here&rsquo;s a brief overview.</p>
<h2 id=the-main-set>The main set</h2>
<p>These are the most popular functions missing in SQLite:</p>
<ul>
<li><a href=https://github.com/nalgeon/sqlean/blob/main/docs/crypto.md>crypto</a>: cryptographic hashes like MD5 or SHA-256.</li>
<li><a href=https://github.com/nalgeon/sqlean/blob/main/docs/fileio.md>fileio</a>: read and write files and catalogs.</li>
<li><a href=https://github.com/nalgeon/sqlean/blob/main/docs/fuzzy.md>fuzzy</a>: fuzzy string matching and phonetics.</li>
<li><a href=https://github.com/nalgeon/sqlean/blob/main/docs/ipaddr.md>ipaddr</a>: IP address manipulation.</li>
<li><a href=https://github.com/nalgeon/sqlean/blob/main/docs/json1.md>json1</a>: JSON functions.</li>
<li><a href=https://github.com/nalgeon/sqlean/blob/main/docs/math.md>math</a>: math functions.</li>
<li><a href=https://github.com/nalgeon/sqlean/blob/main/docs/re.md>re</a>: regular expressions.</li>
<li><a href=https://github.com/nalgeon/sqlean/blob/main/docs/stats.md>stats</a>: math statistics â€” median, percentiles, etc.</li>
<li><a href=https://github.com/nalgeon/sqlean/blob/main/docs/text.md>text</a>: string functions.</li>
<li><a href=https://github.com/nalgeon/sqlean/blob/main/docs/unicode.md>unicode</a>: Unicode support.</li>
<li><a href=https://github.com/nalgeon/sqlean/blob/main/docs/uuid.md>uuid</a>: Universally Unique IDentifiers.</li>
<li><a href=https://github.com/nalgeon/sqlean/blob/main/docs/vsv.md>vsv</a>: CSV files as virtual tables.</li>
</ul>
<p>There are <a href=https://github.com/nalgeon/sqlean/releases/latest>precompiled binaries</a> for Windows, Linix andÂ macOS.</p>
<h2 id=the-incubator>The incubator</h2>
<p>These extensions haven&rsquo;t yet made their way to the main set. They may be too broad, too narrow, or without a well-thought API. I&rsquo;m gradually refactoring and merging them into the main set:</p>
<ul>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1004109889>array</a>: one-dimensional arrays.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-999732640>besttype</a>: convert string value to numeric.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1002267134>bloom</a>: a fast way to tell if a value is already in a table.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1004896027>btreeinfo</a>, <a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1007421989>memstat</a>, <a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-999732907>recsize</a> and <a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1007654407>stmt</a>: various database introspection features.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-996605444>cbrt</a> and <a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-999128539>math2</a>: additional math functions and bit arithmetics.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1001239676>classifier</a>: binary classifier via logistic regression.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1004931771>closure</a>: navigate hierarchic tables with parent/child relationships.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1000937999>compress</a> and <a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1000938046>sqlar</a>: compress / uncompress data.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-997427979>cron</a>: match dates against cron patterns.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1006791300>dbdump</a>: export database as SQL.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1007348326>decimal</a>, <a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-997482625>fcmp</a> and <a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1007375162>ieee754</a>: decimal and floating-point arithmetic.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1004347222>define</a>: create scalar and table-valued functions from SQL.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-997423609>envfuncs</a>: read environment variables.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-996432840>eval</a>: run arbitrary SQL statements.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-998138191>isodate</a>: additional date and time functions.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-997417836>pearson</a>: Pearson correlation coefficient between two data sets.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-997052157>pivotvtab</a>: pivot tables.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1007464840>prefixes</a>: generate string prefixes.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1007500659>rotate</a>: string obfuscation.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1002297477>spellfix</a>: search a large vocabulary for close matches.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1000902666>stats2</a> and <a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1002703581>stats3</a>: additional math statistics functions.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1003105288>text2</a>: additional string functions.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1001232670>uint</a>: natural string sorting and comparison.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-997432989>unhex</a>: reverse for <code>hex()</code>.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1007687162>unionvtab</a>: union similar tables into one.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-997018486>xmltojson</a>: convert XML to JSON string.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1001190336>zipfile</a>: read and write zip files.</li>
<li><a href=https://github.com/nalgeon/sqlean/issues/27#issuecomment-1007733209>zorder</a>: map multidimensional data to a single dimension.</li>
</ul>
<p><a href=https://github.com/nalgeon/sqlean/issues/27>Vote for your favorites</a>! Popular ones will make their way into the main set faster.</p>
<p>Incubator extensions are also available <a href=https://github.com/nalgeon/sqlean/releases/tag/incubator>for download</a>.</p>
<h2 id=how-to-load-an-extension>How to load an extension</h2>
<p>There are three ways to do it. If you are using SQLite CLI (<code>sqlite.exe</code>):</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#000>sqlite</span><span style=color:#000>&gt;</span> .<span style=color:#a90d91>load</span> .<span style=color:#000>/</span><span style=color:#000>stats</span>
<span style=color:#000>sqlite</span><span style=color:#000>&gt;</span> <span style=color:#a90d91>select</span> <span style=color:#000>median</span>(<span style=color:#000>value</span>) <span style=color:#a90d91>from</span> <span style=color:#000>generate_series</span>(<span style=color:#1c01ce>1</span>, <span style=color:#1c01ce>99</span>);
</code></pre></div><p>If you are using a tool like DB Browser for SQLite, SQLite Expert or DBeaver:</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#a90d91>select</span> <span style=color:#000>load_extension</span>(<span style=color:#c41a16>&#39;c:\Users\anton\sqlite\stats.dll&#39;</span>);
<span style=color:#a90d91>select</span> <span style=color:#000>median</span>(<span style=color:#000>value</span>) <span style=color:#a90d91>from</span> <span style=color:#000>generate_series</span>(<span style=color:#1c01ce>1</span>, <span style=color:#1c01ce>99</span>);
</code></pre></div><p>If you are using Python (other languages provide similar means):</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#a90d91>import</span> <span style=color:#000>sqlite3</span>

<span style=color:#000>connection</span> <span style=color:#000>=</span> <span style=color:#000>sqlite3</span><span style=color:#000>.</span><span style=color:#000>connect</span>(<span style=color:#c41a16>&#34;:memory:&#34;</span>)
<span style=color:#000>connection</span><span style=color:#000>.</span><span style=color:#000>enable_load_extension</span>(<span style=color:#a90d91>True</span>)
<span style=color:#000>connection</span><span style=color:#000>.</span><span style=color:#000>load_extension</span>(<span style=color:#c41a16>&#34;./stats.so&#34;</span>)
<span style=color:#000>connection</span><span style=color:#000>.</span><span style=color:#000>execute</span>(<span style=color:#c41a16>&#34;select median(value) from generate_series(1, 99)&#34;</span>)
<span style=color:#000>connection</span><span style=color:#000>.</span><span style=color:#000>close</span>()
</code></pre></div><h2 id=next-steps>Next steps</h2>
<p>If you feel that you are missing some function in SQLite, check the <a href=https://github.com/nalgeon/sqlean><strong>sqlean</strong></a> repository â€” you&rsquo;ll probably find one.</p>
<p>If you want to participate, submit <a href=https://github.com/nalgeon/sqlean/blob/incubator/docs/submit.md>your own</a> or <a href=https://github.com/nalgeon/sqlean/blob/incubator/docs/external.md>third-party</a> extensions.</p>
<p>I keep adding new extensions to the incubator. I also refactor the extensions from the incubator and merge them into the main set. I plan to write a separate article for each main module, so stay tuned.</p>
<p>SQLite FTW!</p>
<p><em>Follow <a href=https://twitter.com/ohmypy><strong>@ohmypy</strong></a> on Twitter and <a href=http://digest.antonz.org/><strong>subscribe by email</strong></a> to keep up with new posts</em>Â ðŸš€</p>
</div>
</div><footer class=post__footer>
<div class=row>
<div class=col-xs-12>
<div class=post__date>
<time datetime="2022-01-04 13:00:00 +0000 UTC">04 Jan, 2022</time>
</div>
<div class=post__tags>
<a href=https://antonz.org/tags/sqlite/>sqlite</a>&nbsp;
<a href=https://antonz.org/tags/data/>data</a>&nbsp;
</div>
</div>
</div>
</footer></article>
<aside class=post__related>
<div class="post__nav article">
<div class=row>
<div class="col-xs-12 col-sm-6">
<p>&larr;&nbsp;<a href=https://antonz.org/sqlite-3-37/>What's new in SQLite 3.37</a></p>
</div>
<div class="col-xs-12 col-sm-6">
<p><a href=https://antonz.org/sqlite-history/>SQLite CLI command history</a>&nbsp;&rarr;</p>
</div>
</div>
</div>
<div class=article>
<div class=row>
<div class="col-xs-12 col-sm-8 col-md-6">
<h3>See also</h3>
<p><a href=/sqlite-3-37/>What's new in SQLite 3.37</a></p>
<p><a href=/sqlite-playground/>SQLite playground in the browser</a></p>
<p><a href=/dataviz-guide/>Data Visualization Guide</a></p>
</div>
</div>
</div>
</aside>
</div>
</div>
<footer class="container footer">
<ul class=naked-list>
<li class=footer__item>Subscribe:
<a href=https://twitter.com/ohmypy class=footer__social-link><i class="fab fa-twitter"></i><span>Twitter</span></a>
<a href=http://digest.antonz.org/ class=footer__social-link><i class="fas fa-envelope"></i><span>Email</span></a>
<a href=/index.xml class=footer__social-link><i class="fas fa-rss"></i><span>RSS</span></a>
</li>
<li class=footer__item>Email: <a href=mailto:m@antonz.org>m@antonz.org</a></li>
</ul>
</footer>
<script async src=//gc.zgo.at/count.js data-goatcounter=https://antonzorg.goatcounter.com/count></script></body>
</html>
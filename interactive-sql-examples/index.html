<!doctype html><html lang=en>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<title>Interactive SQL Examples in JavaScript</title>
<meta name=description content="Turn static SQL code in your articles into executable examples.">
<meta name=robots content="index, follow">
<link rel=stylesheet type=text/css href=/assets/css/style.7d56395be0aff259a969d2f462b790a6013305c4529081baa7da9e04775a50fd.css>
<link rel=icon href=/assets/favicon/favicon.ico sizes=any>
<link rel=icon type=image/svg+xml href=/assets/favicon/favicon.svg>
<link rel=apple-touch-icon href=/assets/favicon/apple-touch-icon.png>
<link rel=manifest href=/assets/favicon/manifest.json>
<link rel=canonical href=https://antonz.org/interactive-sql-examples/>
<meta name=author content="Anton Zhiyanov">
<meta property="og:type" content="article">
<meta property="og:title" content="Interactive SQL Examples in JavaScript">
<meta property="og:description" content="Turn static SQL code in your articles into executable examples.">
<meta property="og:url" content="https://antonz.org/interactive-sql-examples/">
<meta property="og:image" content="https://antonz.org/interactive-sql-examples/cover.png">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:title content="Interactive SQL Examples in JavaScript">
<meta name=twitter:description content="Turn static SQL code in your articles into executable examples.">
<meta name=twitter:url content="https://antonz.org/interactive-sql-examples/">
<meta name=twitter:site content="@ohmypy">
<meta name=twitter:image content="https://antonz.org/interactive-sql-examples/cover.png"></head>
<body>
<div class=header>
<div class=container>
<div class=row>
<div class="col-xs-6 col-sm-3">
<a class=img-link href=/>
<img src=/assets/logo.svg class=header-icon>
</a>Â 
<a href=/>
<strong>Anton Zhiyanov</strong>
</a>
</div>
<div class="col-xs-12 col-sm-6 col-md-4 hidden-mobile">
<a class=menu__link href=/all/>
<span>blog</span>
</a>
<a class=menu__link href=/#about>
<span>contacts</span>
</a>
<a class=menu__link href=https://antonz.ru>
<span>ru</span>
</a>
</div>
</div>
</div>
</div>
<div class=storey>
<div class=container>
<article class=post>
<div class=row>
<div class="col-xs-12 col-sm-10 article">
<header>
<h1>Interactive SQL Examples in JavaScript</h1>
</header>
<p>Reading about SQL is fun, but trying out live examples is even better! So I created JavaScript widgets that turn static SQL code in your articles into interactive examples.</p>
<p>Here is a working example. Give it a try:</p>
<pre class=example><code>select * from employees
limit 5;</code></pre>
<p>And here are the four steps to creating executable SQL examples in your own articles or documentation:</p>
<h2 id=1-include-the-widgets>1. Include the widgets</h2>
<p>You&rsquo;ll need three JavaScript files:</p>
<ul>
<li><code>sqlite3.js</code> â€” SQLite compiled for the browser.</li>
<li><code>sqlime-db.js</code> â€” the database web component.</li>
<li><code>sqlime-examples.js</code> â€” the interactive example web component.</li>
</ul>
<p>Include them from CDN or (better) download and host locally:</p>
<pre tabindex=0><code>&lt;script src=&quot;https://unpkg.com/@antonz/sqlite@3.40.0/dist/sqlite3.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/sqlime@0.1.2/dist/sqlime-db.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/sqlime@0.1.2/dist/sqlime-examples.js&quot;&gt;&lt;/script&gt;
</code></pre><p>You&rsquo;ll also need to download and serve the SQLite WebAssembly file if you&rsquo;re hosting locally:</p>
<pre tabindex=0><code>https://unpkg.com/@antonz/sqlite@3.40.0/dist/sqlite3.wasm
</code></pre><p><code>sqlite3.wasm</code> is used internally by the <code>sqlite3.js</code> script, so place them in the same folder.</p>
<p>I suggest you host SQLite locally because it weighs â‰ˆ1Mb, and CDNs tend to be quite slow with such large files.</p>
<p>You can install all of these using <code>npm</code>:</p>
<pre tabindex=0><code>npm install @antonz/sqlite
npm install sqlime
</code></pre><blockquote>
<p><strong>Note</strong>. <code>@antonz/sqlite</code> is a copy of the official <a href=https://sqlite.org/wasm>SQLite Wasm</a> build, provided as an NPM package for convenience. You can download and use the build from the SQLite website if you prefer.</p>
</blockquote>
<h2 id=2-write-an-article-as-usual>2. Write an article as usual</h2>
<p>Suppose you are writing a short post about ranking data in SQL:</p>
<pre tabindex=0><code>&lt;p&gt;To rank data in SQL, we use the
&lt;code&gt;rank()&lt;/code&gt; window function:&lt;/p&gt;

&lt;pre class=&quot;example&quot;&gt;select
  rank() over w as &quot;rank&quot;,
  name, department, salary
from employees
window w as (order by salary desc)
order by &quot;rank&quot;, id;&lt;/pre&gt;

&lt;p&gt;the article goes on...&lt;/p&gt;
</code></pre><p>Which renders as ordinary HTML:</p>
<div class=boxed>
<p>To rank data in SQL, we use the <code>rank()</code> window function:</p>
<pre><code>select
  rank() over w as "rank",
  name, department, salary
from employees
window w as (order by salary desc)
order by "rank", id;</code></pre>
<p>the article goes on...</p>
</div>
<h2 id=3-load-the-database>3. Load the database</h2>
<p>You can create a database from a binary SQLite file or SQL script. I&rsquo;ll go with the latter and use <a href=/sql-window-functions-book/employees.sql>employees.sql</a>, which creates the <code>employees</code> table and populates it with data.</p>
<p>Load the database using the <code>sqlime-db</code> web component:</p>
<pre tabindex=0><code>&lt;sqlime-db name=&quot;employees&quot; path=&quot;./employees.sql&quot;&gt;&lt;/sqlime-db&gt;
</code></pre><ul>
<li><code>name</code> is the name we&rsquo;ll use later to refer to the database.</li>
<li><code>path</code> is the URL path to the SQL (or binary) database file.</li>
</ul>
<h2 id=4-init-the-examples>4. Init the examples</h2>
<p>The only thing left is to convert your HTML <code>pre</code> code snippets into interactive examples. Use the <code>sqlime-examples</code> web component to do this:</p>
<pre tabindex=0><code>&lt;sqlime-examples db=&quot;employees&quot; selector=&quot;pre.example&quot; editable&gt;&lt;/sqlime-examples&gt;
</code></pre><ul>
<li><code>db</code> is the name of the database we defined earlier.</li>
<li><code>selector</code> is the CSS selector for your SQL code snippets.</li>
<li><code>editable</code> makes the examples editable (remove for read-only).</li>
</ul>
<p>And that&rsquo;s it!</p>
<div class=boxed>
<p>To rank data in SQL, we use the <code>rank()</code> window function:</p>
<pre class=example><code>select
  rank() over w as "rank",
  name, department, salary
from employees
window w as (order by salary desc)
order by "rank", id;</code></pre>
<p>the article goes on...</p>
</div>
<p><code>sqlime-examples</code> converts all the snippets with the specified selector, so you only need to include it once (unless you have multiple databases to run your examples on).</p>
<h2 id=summary>Summary</h2>
<p>Executable SQL examples are an excellent fit for any kind of documentation:</p>
<ul>
<li>They are more informative than static snippets.</li>
<li>They increase engagement and encourage experimentation,</li>
<li>They are lightweight, easy to set up, and do not require a server.</li>
</ul>
<p>Try adding interactive SQL to your articles, or ask a question <a href=https://github.com/nalgeon/sqlime>on GitHub</a> if you have one.</p>
<p>P.S. Want to see SQL examples in action? Check out my book â€” <a href=/sql-window-functions-book/>SQLÂ WindowÂ FunctionsÂ Explained</a></p>
<p><sqlime-db name=employees path=/sql-window-functions-book/employees.sql></sqlime-db>
<sqlime-examples db=employees selector=pre.example editable></sqlime-examples></p>
<script src=/assets/sqlime/sqlite3.js></script>
<script src=/assets/sqlime/sqlime-db.js></script>
<script src=/assets/sqlime/sqlime-examples.js></script>
<p><em>Follow <a href=https://twitter.com/ohmypy><strong>@ohmypy</strong></a> on Twitter to keep up with new posts</em>Â ðŸš€</p>
</div>
</div><footer class=post__footer>
<div class=row>
<div class=col-xs-12>
<div class=post__date>
<time datetime="2023-03-05 12:00:00 +0000 UTC">05 Mar, 2023</time>
</div>
<div class=post__tags>
<a href=https://antonz.org/tags/data/>data</a>&nbsp;
<a href=https://antonz.org/tags/sqlite/>sqlite</a>&nbsp;
</div>
</div>
</div>
</footer></article>
<aside class=post__related>
<div class="post__nav article">
<div class=row>
<div class="col-xs-12 col-sm-6">
<p>&larr;&nbsp;<a href=https://antonz.org/sqlean-fileio/>Reading and Writing Files in SQLite</a></p>
</div>
</div>
</div>
<div class=article>
<div class=row>
<div class="col-xs-12 col-sm-8 col-md-6">
<h3>See also</h3>
<p><a href=/sqlean/>The Ultimate SQLite Extension Set</a></p>
<p><a href=/sqlite-3-37/>What's new in SQLite 3.37</a></p>
<p><a href=/sqlean-fileio/>Reading and Writing Files in SQLite</a></p>
</div>
</div>
</div>
</aside>
</div>
</div>
<footer class="container footer">
<ul class=naked-list>
<li class=footer__item>Subscribe:
<a href=https://twitter.com/ohmypy class=footer__social-link><i class="fab fa-twitter"></i><span>Twitter</span></a>
<a href=/index.xml class=footer__social-link><i class="fas fa-rss"></i><span>RSS</span></a>
</li>
<li class=footer__item>Email: <a href=mailto:m@antonz.org>m@antonz.org</a></li>
</ul>
</footer>
<script async src=//gc.zgo.at/count.js data-goatcounter=https://antonzorg.goatcounter.com/count></script></body>
</html>